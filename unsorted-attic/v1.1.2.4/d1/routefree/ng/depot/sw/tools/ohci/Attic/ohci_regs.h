d13 1
d22 4
a25 4
#define OHCI_CMDSTAT_OFFSET      0x8     /* HcCommandStatus      */
#define OHCI_INTSTAT_OFFSET      0xc     /* HcInterruptStatus    */
#define OHCI_INTEN_OFFSET        0x10    /* HcInterruptEnable    */
#define OHCI_INTDIS_OFFSET       0x14    /* HcInterruptDisable   */
d35 3
a37 3
#define OHCI_FRMINT_OFFSET       0x34    /* HcFmInterval         */
#define OHCI_FRMREM_OFFSET       0x38    /* HcFmRemaining        */
#define OHCI_FRMNUM_OFFSET       0x3c    /* HcFmNumber           */
a64 1

a65 2
#define OHCI_CTRL_CBSR_SHIFT           0

a66 1

a67 1

a68 1

a69 1

a70 2
#define OHCI_CTRL_HCFS_SHIFT           6

a71 1

a72 1

d75 9
a83 9
#define OHCI_CTRL_CBSR_11              (0 << OHCI_CTRL_CBSR_SHIFT)
#define OHCI_CTRL_CBSR_21              (1 << OHCI_CTRL_CBSR_SHIFT)
#define OHCI_CTRL_CBSR_31              (2 << OHCI_CTRL_CBSR_SHIFT)
#define OHCI_CTRL_CBSR_41              (3 << OHCI_CTRL_CBSR_SHIFT)

#define OHCI_CTRL_HCFS_USBRESET        (0 << OHCI_CTRL_HCFS_SHIFT)
#define OHCI_CTRL_HCFS_USBRESUME       (1 << OHCI_CTRL_HCFS_SHIFT)
#define OHCI_CTRL_HCFS_USBOPER         (2 << OHCI_CTRL_HCFS_SHIFT)
#define OHCI_CTRL_HCFS_USBSUSP         (3 << OHCI_CTRL_HCFS_SHIFT)
d86 7
a92 7
#define OHCI_CMDSTAT_RSVD_MASK  0x0003000f
#define OHCI_CMDSTAT_RESET_VAL  0x00000000
#define OHCI_CMDSTAT_HCR_MASK   0x00000001
#define OHCI_CMDSTAT_CLF_MASK   0x00000002 
#define OHCI_CMDSTAT_BLF_MASK   0x00000004
#define OHCI_CMDSTAT_OCR_MASK   0x00000008
#define OHCI_CMDSTAT_SOC_MASK   0x00030000
d95 10
a104 10
#define OHCI_INTSTAT_RSVD_MASK  0x4000007f
#define OHCI_INTSTAT_RESET_VAL  0x00000000
#define OHCI_INTSTAT_SO_MASK    0x00000001
#define OHCI_INTSTAT_WDH_MASK   0x00000002
#define OHCI_INTSTAT_SF_MASK    0x00000004
#define OHCI_INTSTAT_RD_MASK    0x00000008
#define OHCI_INTSTAT_UE_MASK    0x00000010
#define OHCI_INTSTAT_FNO_MASK   0x00000020
#define OHCI_INTSTAT_RHSC_MASK  0x00000040
#define OHCI_INTSTAT_OC_MASK    0x40000000
d107 11
a117 12
#define OHCI_INTEN_RSVD_MASK    0xc000007f
#define OHCI_INTEN_ENALL_MASK   0xc000007f
#define OHCI_INTEN_RESET_VAL    0x00000000
#define OHCI_INTEN_SO_MASK      0x00000001
#define OHCI_INTEN_WDH_MASK     0x00000002
#define OHCI_INTEN_SF_MASK      0x00000004
#define OHCI_INTEN_RD_MASK      0x00000008
#define OHCI_INTEN_UE_MASK      0x00000010
#define OHCI_INTEN_FNO_MASK     0x00000020
#define OHCI_INTEN_RHSC_MASK    0x00000040
#define OHCI_INTEN_OC_MASK      0x40000000
#define OHCI_INTEN_MIE_MASK     0x80000000
d120 11
a130 11
#define OHCI_INTDIS_RSVD_MASK    0xc000007f
#define OHCI_INTDIS_RESET_VAL    0x00000000
#define OHCI_INTDIS_SO_MASK      0x00000001
#define OHCI_INTDIS_WDH_MASK     0x00000002
#define OHCI_INTDIS_SF_MASK      0x00000004
#define OHCI_INTDIS_RD_MASK      0x00000008
#define OHCI_INTDIS_UE_MASK      0x00000010
#define OHCI_INTDIS_FNO_MASK     0x00000020
#define OHCI_INTDIS_RHSC_MASK    0x00000040
#define OHCI_INTDIS_OC_MASK      0x40000000
#define OHCI_INTDIS_MIE_MASK     0x80000000
d168 5
a172 5
#define OHCI_FRMINT_RSVD_MASK   0xffff3fff
#define OHCI_FRMINT_RESET_VAL   0x00002edf /* XXX FSMPS TBD? */
#define OHCI_FRMINT_FI_MASK     0x00003fff
#define OHCI_FRMINT_FSMPS_MASK  0x7fff0000
#define OHCI_FRMINT_FIT_MASK    0x80000000
d175 4
a178 4
#define OHCI_FRMREM_RSVD_MASK   0x80003fff
#define OHCI_FRMREM_RESET_VAL   0x00000000
#define OHCI_FRMREM_FR_MASK     0x00003fff
#define OHCI_FRMREM_FRT_MASK    0x80000000
d181 3
a183 3
#define OHCI_FRMNUM_RSVD_MASK   0x0000ffff
#define OHCI_FRMNUM_RESET_VAL   0x00000000
#define OHCI_FRMNUM_FN_MASK     0x0000ffff
d263 1
a263 2
} ohci_opregs __attribute__((aligned(32))); /* XXX sanjay: align needed?  */

a264 2
/* Official wait times for resets, etc */
#define OHCI_SWRESET_DELAY 10 /* 10us section 5.1.1.4 */
